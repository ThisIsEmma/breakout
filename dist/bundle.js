(()=>{"use strict";const t=class{constructor(t,i,s,e,h="red"){this.x=t,this.y=i,this.width=s,this.height=e,this.color=h}moveTo(t,i){this.x=t,this.y=i}moveBy(t,i){this.x+=t,this.y+=i}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill()}};class i extends t{constructor(t,i,s,e="16px Helvetica",h="red",r="left"){super(t,i,"red"),this.font=e,this.text=s,this.align=r}render(t){t.font=this.font,t.textAlign=this.align,t.fillStyle=this.color,t.fillText(this.text,this.x,this.y)}}const s=document.getElementById("myCanvas"),e=s.getContext("2d");let h=s.width/2,r=s.height-30,o=!1,n=!1,d=["red","green"],l=0,c=3;const a=new i(s.width-65,20,"Lives: 3");let y=[];for(let t=0;t<5;t++){y[t]=[];for(let i=0;i<3;i++)y[t][i]={x:0,y:0,status:1}}class f extends t{constructor(t,i,s,e,h){super(t,i,s,e,h),this.color=h,this.width=s,this.height=e,this.status=1,this.dx=2,this.dy=-2}render(t){for(let i=0;i<5;i++)for(let s=0;s<3;s++)if(1===y[i][s].status){const e=i*(this.width+10)+30,h=s*(this.height+10)+30;y[i][s].x=e,y[i][s].y=h,t.beginPath(),t.rect(e,h,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}}const x=75;let u=(s.width-x)/2;document.addEventListener("mousemove",(function(t){const i=t.clientX-s.offsetLeft;i>0&&i<s.width&&(u=i-37.5)}),!1);const w=new i(10,20,"Score: 0"),g=new class extends t{constructor(t,i,s,e){super(t,i,2*s,2*s,e),this.radius=s,this.dx=2,this.dy=-2}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}move(){this.x+=this.dx,this.y+=this.dy,(this.x+this.dx>s.width-this.radius||this.x+this.dx<0)&&(this.dx=-this.dx),this.y+this.dy<this.radius?this.dy=-this.dy:this.y+this.dy>s.height-this.radius&&(this.x>u&&this.x<u+x?this.dy=1.25*-this.dy:(c--,a.text="Lives: "+c,c?(this.x=s.width/2,this.y=s.height-30,this.dx=2,this.dy=-2,u=(s.width-x)/2):(alert("GAME OVER, NO MORE LIVES"),document.location.reload())))}}(s.width/2,s.height-30,10,"orange"),m=new class{constructor(t,i,s,e,h){this.x=t,this.y=i,this.color=s,this.width=e,this.height=h}render(t){t.beginPath(),t.rect(u,s.height-this.height,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}(h,r,"#0095DD",x,10),k=new class{constructor(t,i,s){this.color=t,this.height=i,this.width=s}render(t){t.beginPath(),t.rect(0,0,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}("gray",s.height,s.width),v=new class{constructor(t=3,i=5){this.rows=t,this.cols=i,this.bricks=[],this.setup()}setup(){for(let t=0;t<this.cols;t+=1){this.bricks[t]=[];for(let i=0;i<this.rows;i+=1){const s=new f(h,r,75,20,"white");s.x=t*(s.width+10)+30,s.y=i*(s.height+10)+30,this.bricks[t][i]=s}}}render(t){for(let i=0;i<this.cols;i+=1)for(let s=0;s<this.rows;s+=1)1===this.bricks[i][s].status&&this.bricks[i][s].render(t)}}(3,5);v.setup(),document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?o=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(n=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?o=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(n=!1)}),!1),function t(){e.clearRect(0,0,s.width,s.height),k.render(e),g.render(e),g.move(),m.render(e),o?u=Math.min(u+7,s.width-x):n&&(u=Math.max(u-7,0)),v.render(e),w.render(e),function(){for(let t=0;t<5;t++)for(let i=0;i<3;i++){const s=y[t][i];1===s.status&&g.x>s.x&&g.x<s.x+75&&g.y>s.y&&g.y<s.y+20&&(g.dy=-g.dy,s.status=0,l++,w.text="Score: "+l,g.color=d[Math.floor(Math.random()*d.length)],15===l&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}(),a.render(e),requestAnimationFrame(t)}()})();