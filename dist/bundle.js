(()=>{"use strict";const t=class{constructor(t,i,s,h,e){this.x=t,this.y=i,this.width=s,this.height=h,this.color=e}moveTo(t,i){this.x=t,this.y=i}moveBy(t,i){this.x+=t,this.y+=i}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill()}};class i extends t{constructor(t,i,s,h="16px Helvetica",e="#e28743",r="left"){super(t,i,e),this.font=h,this.text=s,this.align=r}render(t){t.font=this.font,t.textAlign=this.align,t.fillStyle=this.color,t.fillText(this.text,this.x,this.y)}}const s=document.getElementById("myCanvas"),h=s.getContext("2d");let e=s.width/2,r=s.height-30,o=!1,n=!1,d=["#abdbe3","#063970"],l=0,c=3,a=[];for(let t=0;t<5;t++){a[t]=[];for(let i=0;i<3;i++)a[t][i]={x:0,y:0,status:1}}class y extends t{constructor(t,i,s,h,e){super(t,i,s,h,e),this.color=e,this.width=s,this.height=h,this.status=1,this.dx=2,this.dy=-2}render(t){for(let i=0;i<5;i++)for(let s=0;s<3;s++)if(1===a[i][s].status){const h=i*(this.width+10)+30,e=s*(this.height+10)+30;a[i][s].x=h,a[i][s].y=e,t.beginPath(),t.rect(h,e,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}}const f=75;let x=(s.width-f)/2;document.addEventListener("mousemove",(function(t){const i=t.clientX-s.offsetLeft;i>0&&i<s.width&&(x=i-37.5)}),!1);const u=new i(10,20,"Score: 0"),w=new i(s.width-65,20,"Lives: 3"),g=new class extends t{constructor(t,i,s,h){super(t,i,2*s,2*s,h),this.radius=s,this.dx=2,this.dy=-2}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}move(){this.x+=this.dx,this.y+=this.dy,(this.x+this.dx>s.width-this.radius||this.x+this.dx<0)&&(this.dx=-this.dx),this.y+this.dy<this.radius?this.dy=-this.dy:this.y+this.dy>s.height-this.radius&&(this.x>x&&this.x<x+f?this.dy=1.25*-this.dy:(c--,w.text="Lives: "+c,c?(this.x=s.width/2,this.y=s.height-30,this.dx=2,this.dy=-2,x=(s.width-f)/2):(alert("GAME OVER, NO MORE LIVES"),document.location.reload())))}}(s.width/2,s.height-30,10,"#e28743"),m=new class{constructor(t,i,s,h,e){this.x=t,this.y=i,this.color=s,this.width=h,this.height=e}render(t){t.beginPath(),t.rect(x,s.height-this.height,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}(e,r,"#e28743",f,10),k=new class{constructor(t,i,s){this.color=t,this.height=i,this.width=s}render(t){t.beginPath(),t.rect(0,0,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}("#eab676",s.height,s.width),b=new class{constructor(t=3,i=5){this.rows=t,this.cols=i,this.bricks=[],this.setup()}setup(){for(let t=0;t<this.cols;t+=1){this.bricks[t]=[];for(let i=0;i<this.rows;i+=1){const s=new y(e,r,75,20,"#fbdaa4");s.x=t*(s.width+10)+30,s.y=i*(s.height+10)+30,this.bricks[t][i]=s}}}render(t){for(let i=0;i<this.cols;i+=1)for(let s=0;s<this.rows;s+=1)1===this.bricks[i][s].status&&this.bricks[i][s].render(t)}}(3,5);b.setup(),document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?o=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(n=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?o=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(n=!1)}),!1),function t(){h.clearRect(0,0,s.width,s.height),k.render(h),g.render(h),g.move(),m.render(h),o?x=Math.min(x+7,s.width-f):n&&(x=Math.max(x-7,0)),b.render(h),u.render(h),function(){for(let t=0;t<5;t++)for(let i=0;i<3;i++){const s=a[t][i];1===s.status&&g.x>s.x&&g.x<s.x+75&&g.y>s.y&&g.y<s.y+20&&(g.dy=-g.dy,s.status=0,l++,u.text="Score: "+l,g.color=d[Math.floor(Math.random()*d.length)],15===l&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}(),w.render(h),requestAnimationFrame(t)}()})();